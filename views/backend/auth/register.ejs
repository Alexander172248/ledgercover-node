<!DOCTYPE html>
<html lang="en">
<%- include('../partials/head.ejs') %>
<style>
    .content-wrapper {
        margin-top: 0;
    }
</style>
<body>
<div class="container-scroller">
    <div class="container-fluid page-body-wrapper full-page-wrapper">
        <div class="content-wrapper d-flex align-items-center auth auth-bg-1 theme-one">
            <div class="row w-100" style="margin-left: 0; margin-right: 0;">
                <div class="col-lg-4 mx-auto">
                    <div style="text-align: center; padding-bottom: 20px;">
                        <a href="/" class="brand-logo-mini">
                            <img src="/logo.png" alt="logo" style="max-height: 100px;">
                        </a>
                    </div>
                    <div class="auto-form-wrapper">
                        <form action="#" id="register_form">
                            <div class="form-group">
                                <div class="input-group">
                                    <input type="text" class="form-control" id="username" placeholder="Username" required>
                                    <div class="input-group-append">
                                        <span class="input-group-text">
                                            <i class="mdi mdi-check-circle-outline"></i>
                                        </span>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="input-group">
                                    <input type="email" class="form-control" id="email" placeholder="Email" required>
                                    <div class="input-group-append">
                                        <span class="input-group-text">
                                            <i class="mdi mdi-check-circle-outline"></i>
                                        </span>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="input-group">
                                    <input type="password" class="form-control" id="password" placeholder="Password" required>
                                    <div class="input-group-append">
                                        <span class="input-group-text"><i class="mdi mdi-check-circle-outline"></i></span>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="input-group">
                                    <input type="password" class="form-control" id="confirm_password" placeholder="Confirm Password" required>
                                    <div class="input-group-append">
                                        <span class="input-group-text"><i class="mdi mdi-check-circle-outline"></i></span>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group d-flex justify-content-center">
                                <div class="form-check form-check-flat mt-0">
                                    <label class="form-check-label">
                                        <input type="checkbox" class="form-check-input" checked required> I agree to the terms </label>
                                </div>
                            </div>
                            <div class="form-group">
                                <button class="btn btn-primary submit-btn btn-block">Register</button>
                            </div>
                            <div class="text-block text-center my-3">
                                <span class="text-small font-weight-semibold">Already have and account ?</span>
                                <a href="/login" class="text-black text-small">Login</a>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
        <!-- content-wrapper ends -->
    </div>
    <!-- page-body-wrapper ends -->
</div>
<!-- container-scroller -->
<%- include('../partials/foot.ejs') %>
<!-- endinject -->
<script>
    $('#register_form').on('submit', function (e) {
        e.preventDefault();
        $.ajax({
            url: '/post-register',
            method: 'post',
            data: {
                name: $('#username').val(),
                email: $('#email').val(),
                password: $('#password').val(),
                confirm_password: $('#confirm_password').val(),
            },
            success: function (res) {
                if (res.status === 'success') {
                    customAlert(res.message, true);
                    setTimeout(function () {
                        location.href = '/login';
                    }, 2500)
                } else customAlert(res.message);
            }
        })
    })
</script>
</body>
</html>